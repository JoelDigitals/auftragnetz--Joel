{% extends "base.html" %}
{% load i18n %}

{% block title %}{% trans "Create Order" %}{% endblock %}

{% block content %}
<div class="max-w-3xl mx-auto bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-lg">
  <h1 class="text-3xl font-bold mb-8 text-gray-900 dark:text-white">{% trans "Create a New Order" %}</h1>

  <form method="post" class="space-y-6">
    {% csrf_token %}

    <!-- Title -->
    <div>
      <label class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1">{% trans "Title" %}</label>
      <input type="text" name="title" value="{{ title }}"
             class="w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500" 
             placeholder="{% trans 'Order title' %}">
    </div>

    <!-- Description -->
    <div>
      <label class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1">{% trans "Description" %}</label>
      <textarea name="description" rows="5"
                class="w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500"
                placeholder="{% trans 'Describe your order' %}">{{ description }}</textarea>
    </div>

    <!-- Budget -->
    <div>
      <label class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1">{% trans "Budget (€)" %}</label>
      <input type="number" step="0.01" name="budget" value="{{ budget }}"
             class="w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500"
             placeholder="{% trans 'Budget in €' %}">
    </div>

    <!-- Deadline -->
    <div>
      <label class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1">{% trans "Deadline" %}</label>
      <input type="date" name="deadline" value="{{ deadline }}"
             class="w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500">
    </div>

    <!-- Categories -->
    <div>
      <label class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1">{% trans "Categories" %}</label>
      <div class="grid grid-cols-2 gap-2 max-h-48 overflow-y-auto">
        {% for c in categories %}
          <label class="inline-flex items-center space-x-2">
            <input type="checkbox" name="categories" value="{{ c.id }}"
              {% if c.id|stringformat:"s" in selected_categories %}checked{% endif %}
              class="rounded border-gray-300 dark:border-gray-600 dark:bg-gray-700">
            <span>{{ c.name }}</span>
          </label>
        {% endfor %}
      </div>
    </div>
    

    <!-- Status -->
    <div>
      <label class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1">{% trans "Status" %}</label>
      <select name="status"
              class="w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500">
        {% for val, label in status_choices %}
          <option value="{{ val }}" {% if val == status %}selected{% endif %}>{{ label }}</option>
        {% endfor %}
      </select>
    </div>

    <!-- Submit Button -->
    <div class="pt-4">
      <button type="submit" class="w-full bg-blue-600 text-white px-6 py-3 rounded-xl font-medium hover:bg-blue-700 transition">
        {% trans "Save Order" %}
      </button>
    </div>
  </form>
</div>
{% endblock %}